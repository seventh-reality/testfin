<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three.js with AR.js - Surface Tracking</title>
    
    <!-- Three.js (Load Three.js first to ensure it's available for AR.js) -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.151.3/build/three.min.js"></script> 
    
    <!-- Load GLTFLoader as a separate module -->
 <script type="module" src="https://cdn.skypack.dev/three@0.136.0/examples/jsm/loaders/GLTFLoader.js"></script> 

    <!-- AR.js for surface tracking with Three.js -->
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/three.js/build/ar-threex.js"></script>

    <style>
        body { margin: 0; overflow: hidden; }
        #ui { position: absolute; top: 20px; left: 20px; z-index: 10; }
        button { margin: 5px; padding: 10px; }
    </style>
</head>
<body>

<!-- AR.js Scene with Surface Tracking -->
<a-scene embedded arjs="sourceType: webcam; trackingMethod: best;">
    <!-- Hit-test target for surface detection -->
    <a-anchor hit-testing-enabled="true">
        <a-entity id="model-container"></a-entity>
    </a-anchor>
    <a-camera gps-camera rotation-reader></a-camera>
</a-scene>

<!-- UI Buttons to Switch Models -->
<div id="ui">
    <button id="button1">Load Model 1</button>
    <button id="button2">Load Model 2</button>
    <button id="button3">Load Model 3</button>
</div>

<script>

// ... your Three.js scene setup ...

const loader = new GLTFLoader();
loader.load('path/to/your/model.gltf', function (gltf) {
  // Add the loaded model to your scene
  scene.add(gltf.scene);
});
    let currentModel = null;
    let modelContainer = document.getElementById('model-container');

    // GLTFLoader to load 3D models
    const loader = new THREE.GLTFLoader();

    // Function to load a GLB model and display it in the AR scene
    function loadModel(path) {
        // Remove the current model if it exists
        if (currentModel) {
            modelContainer.object3D.remove(currentModel);
        }

        // Load the new model
        loader.load(path, (gltf) => {
            currentModel = gltf.scene;
            currentModel.scale.set(0.5, 0.5, 0.5);  // Scale the model
            modelContainer.object3D.add(currentModel);
        });
    }

    // Set event listeners for buttons
    document.getElementById('button1').addEventListener('click', () => {
        loadModel('path/to/your-model1.glb'); // Replace with the actual path to Model 1
    });

    document.getElementById('button2').addEventListener('click', () => {
        loadModel('path/to/your-model2.glb'); // Replace with the actual path to Model 2
    });

    document.getElementById('button3').addEventListener('click', () => {
        loadModel('path/to/your-model3.glb'); // Replace with the actual path to Model 3
    });
</script>

</body>
</html>
