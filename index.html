<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Onirix SLAM Tracking</title>
    <script src="https://cdn.onirix.com/onirix-sdk.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        #onirix-container {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="onirix-container"></div>

    <script>
        // Initialize Onirix SDK
        const onirix = new OnirixSDK("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjUyMDIsInByb2plY3RJZCI6MTQ0MjgsInJvbGUiOjMsImlhdCI6MTYxNjc1ODY5NX0.8F5eAPcBGaHzSSLuQAEgpdja9aEZ6Ca_Ll9wg84Rp5k"), // Replace with your API key
            containerId: 'onirix-container', // Your HTML container ID
        });

        // Initialize the scene
        const scene = new Onirix.Scene();

        // Load the GLB model
        const model = new Onirix.GLBModel('tree.glb'); // Replace with your GLB model path
        scene.add(model);

        // Enable surface mesh for tracking
        const surfaceMesh = new Onirix.MeshCollider(model);
        scene.add(surfaceMesh);

        // Handle hit events on the mesh
        surfaceMesh.on('hit', () => {
            console.log('Mesh hit detected!');
            // Add your logic here for what happens on hit
            alert('Mesh has been hit!');
        });

        // Start the Onirix SLAM tracking
        onirix.start(scene)
            .then(() => {
                console.log('SLAM tracking started');
            })
            .catch((error) => {
                console.error('Error starting SLAM tracking:', error);
            });

        // Update loop
        function update() {
            scene.update(); // Update the scene
            requestAnimationFrame(update); // Request the next frame
        }
        update();
    </script>
</body>
</html>
